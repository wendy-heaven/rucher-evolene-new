{"version":3,"sources":["index.js"],"names":["gsap","registerPlugin","ScrollTrigger","window","addEventListener","scrollTo","pageContainer","scroller","animation","pinWrapWidth","imageSteps","tlText","tlImage","imagesSeason","totalSteps","buttonsSeason","goContactSection","endDrawing","closeNav","navExpandedhover","closeNavTimeout","areas","houseImage","loadingPage","document","getElementById","nav","style","opacity","setTimeout","display","querySelector","querySelectorAll","forEach","el","Splide","arrows","mount","pagination","padding","left","right","type","arrowPath","LocomotiveScroll","smooth","getDirection","mobile","breakpoint","tablet","scrollerProxy","scrollTop","value","arguments","length","scroll","instance","y","getBoundingClientRect","top","width","innerWidth","height","innerHeight","pinType","transform","on","update","classList","add","body","e","popinContainer","videoElement","target","closest","preventDefault","name","getAttribute","src","concat","play","pause","currentTime","stopPropagation","fromTo","duration","ease","paused","create","trigger","pin","start","end","onUpdate","self","progress","reverse","videoBlock","onEnter","onLeave","remove","id","startProps","endProps","card","index","element","_objectSpread","scrollTrigger","scrub","timeline","x","delay","onLeaveBack","horizontalScrollLength","offsetWidth","to","textSteps","container","heightToScroll","pinSpacing","step","i","scale","goHousesSection","navExpanded","xhr","XMLHttpRequest","open","onreadystatechange","readyState","status","location","href","send","goExperiencesSection","button","image","imageIndex","otherButton","buttonIndex","currentStep","Math","round","scrollPosition","behavior","onComplete","onReverseComplete","console","log","imagesSlider","contains","refresh","navSmall","clearTimeout","area","houseNumber","this","dataset","event","popin","getAll","ST","unpin","kill","destroy"],"mappings":"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","file":"main.js","sourcesContent":["\ngsap.registerPlugin(ScrollTrigger);\n\nwindow.addEventListener(\"load\", function () {\n\twindow.scrollTo(0, 0);\n\tconst loadingPage = document.getElementById('loading-page');\n\tif (loadingPage) {\n\t\tloadingPage.style.opacity = 0;\n\t\tsetTimeout(() => {\n\t\t\tloadingPage.style.display = 'none';\n\t\t}, 2000);\n\t}\n\t///////////// SLIDERS //////////////\n\tif (document.querySelector(\".splide\")) {\n\t\tconst sliders = document.querySelectorAll(\".splide\");\n\t\tsliders.forEach(el => {\n\t\t\tconst slider = new Splide(el, {\n\t\t\t\tarrows: false,\n\t\t\t});\n\t\t\tslider.mount();\n\t\t});\n\t}\n\tif (document.querySelector(\".splide-small\")) {\n\t\tconst slidersV2 = document.querySelectorAll(\".splide.splide-small\");\n\t\tslidersV2.forEach(el => {\n\t\t\tconst sliderV2 = new Splide(el, {\n\t\t\t\tpagination: false,\n\t\t\t\tpadding: { left: 0, right: '20%' },\n\t\t\t\ttype: 'loop',\n\t\t\t\tarrowPath: \"M0 21h38l-4 6v1l6-8-6-6v1l4 5H0z\"\n\t\t\t});\n\t\t\tsliderV2.mount();\n\t\t});\n\t}\n\t///////////// SMOOTH SCROLL //////////////\n\tif (document.querySelector(\".container\")) {\n\t\tconst pageContainer = document.querySelector(\".container\");\n\n\t\tconst scroller = new LocomotiveScroll({\n\t\t\tel: pageContainer,\n\t\t\tsmooth: true,\n\t\t\tgetDirection: true,\n\t\t\tmobile: {\n\t\t\t\tbreakpoint: 0,\n\t\t\t\tsmooth: true,\n\t\t\t\tgetDirection: true,\n\t\t\t},\n\t\t\ttablet: {\n\t\t\t\tbreakpoint: 0,\n\t\t\t\tsmooth: true,\n\t\t\t\tgetDirection: true,\n\t\t\t},\n\t\t});\n\n\t\tScrollTrigger.scrollerProxy(pageContainer, {\n\t\t\tscrollTop(value) {\n\t\t\t\treturn arguments.length ? scroller.scrollTo(value, 0, 0) : scroller.scroll.instance.scroll.y;\n\t\t\t},\n\t\t\tgetBoundingClientRect() {\n\t\t\t\treturn { top: 0, left: 0, width: window.innerWidth, height: window.innerHeight };\n\t\t\t},\n\t\t\tpinType: pageContainer.style.transform ? \"transform\" : \"fixed\",\n\t\t});\n\n\t\tscroller.on(\"scroll\", ScrollTrigger.update);\n\t\tScrollTrigger.addEventListener(\"refresh\", () => scroller.update());\n\n\n\t\t////////////////////////////////////\n\n\t\tif (window.innerWidth < 576 && document.querySelector(\"#imgPile-text-first\")) {\n\t\t\tdocument.getElementById(\"imgPile-text-first\").classList.add(\"hide\");\n\t\t}\n\t\tif (document.querySelector(\".js-popincontainer\")) {\n\t\t\t// Function to handle opening the video popin\n\t\t\tdocument.body.addEventListener('click', function (e) {\n\t\t\t\tif (e.target.closest('.js-open-popin-video')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tconst name = e.target.closest('.js-open-popin-video').getAttribute('data-popin');\n\t\t\t\t\tconst popinContainer = document.querySelector('.js-popincontainer');\n\t\t\t\t\tconst videoElement = popinContainer.querySelector('.video');\n\t\t\t\t\tvideoElement.src = `assets/video/${name}.mp4`;\n\n\t\t\t\t\tif (videoElement) {\n\t\t\t\t\t\t//play the video\n\t\t\t\t\t\tvideoElement.play();\n\t\t\t\t\t}\n\n\t\t\t\t\tpopinContainer.style.display = 'block';\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tpopinContainer.style.opacity = 1;\n\t\t\t\t\t}, 10);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Function to handle closing the video popin when clicking the close button\n\t\t\tdocument.body.addEventListener('click', function (e) {\n\t\t\t\tif (e.target.closest('.js-popincontent .btn_close')) {\n\t\t\t\t\tconst videoElement = document.querySelector('.js-popincontainer video');\n\t\t\t\t\tif (videoElement) {\n\t\t\t\t\t\tvideoElement.pause();\n\t\t\t\t\t\tvideoElement.currentTime = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst popinContainer = document.querySelector('.js-popincontainer');\n\t\t\t\t\tpopinContainer.style.opacity = 0;\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tpopinContainer.style.display = 'none';\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Function to handle closing the video popin when clicking outside the popin content\n\t\t\tdocument.body.addEventListener('click', function (e) {\n\t\t\t\tif (e.target.closest('.js-popincontainer') && !e.target.closest('.video')) {\n\t\t\t\t\tconst popinContainer = document.querySelector('.js-popincontainer');\n\t\t\t\t\tconst videoElement = document.querySelector('.js-popincontainer video');\n\t\t\t\t\tpopinContainer.style.opacity = 0;\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tpopinContainer.style.display = 'none';\n\t\t\t\t\t}, 300);\n\t\t\t\t\tif (videoElement) {\n\t\t\t\t\t\tvideoElement.pause();\n\t\t\t\t\t\tvideoElement.currentTime = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Function to stop propagation when clicking inside the popin content\n\t\t\tdocument.body.addEventListener('click', function (e) {\n\t\t\t\tif (e.target.closest('.js-popincontent')) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\t\tif (document.querySelector(\".pin-item\")) {\n\t\t\t// Create the animation\n\t\t\tlet animation = gsap.fromTo(\".pin-wrapper\",\n\t\t\t\t{ y: 0 },\n\t\t\t\t{\n\t\t\t\t\ty: \"-100vh\",\n\t\t\t\t\tduration: 1,\n\t\t\t\t\tease: \"SlowMo.ease\",\n\t\t\t\t\tpaused: true // Pause the animation initially\n\t\t\t\t}\n\t\t\t);\n\n\t\t\t// Add the scroll trigger for pinning and animation\n\t\t\tScrollTrigger.create({\n\t\t\t\tscroller: pageContainer, // locomotive-scroll\n\t\t\t\ttrigger: \"#sectionPin0\",\n\t\t\t\tpin: true,\n\t\t\t\tstart: \"top top\", // start after scrolling 50vh\n\t\t\t\tend: \"+=300%\", // keep the section pinned for 300%\n\t\t\t\tonUpdate: (self) => {\n\t\t\t\t\tif (self.progress >= 0.5 && animation.progress() === 0) {\n\t\t\t\t\t\tanimation.play(); // Play the animation\n\t\t\t\t\t} else if (self.progress <= 0.49) {\n\t\t\t\t\t\tanimation.reverse()\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t});\n\t\t}\n\t\tif (document.querySelector(\".video-border-block \")) {\n\n\t\t\tconst videoBlock = document.querySelector('.video-border-block')\n\t\t\t// quand cet element est inview ajoute la class animate \n\t\t\tScrollTrigger.create({\n\t\t\t\tscroller: pageContainer, // locomotive-scroll\n\t\t\t\ttrigger: videoBlock,\n\t\t\t\tpin: true,\n\t\t\t\tstart: \"top top\",\n\t\t\t\tend: \"bottom top\",\n\t\t\t\tonEnter: () => {\n\t\t\t\t\tdocument.querySelector('.border-animation').classList.add(\"animate\")\n\t\t\t\t},\n\t\t\t\tonLeave: () => {\n\t\t\t\t\tdocument.querySelector('.border-animation').classList.remove('animate')\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tif (document.querySelector(\".light-1\")) {\n\n\n\t\t\t// Animation des cartes venant du haut à gauche\n\t\t\tconst cards = [\n\t\t\t\t{ id: '#card1', startProps: { top: '250px', left: '25px' }, endProps: { top: '45px', left: '25px' } },\n\t\t\t\t{ id: '#card2', startProps: { top: '250px', left: '-250px' }, endProps: { top: '65px', left: '5px' } },\n\t\t\t\t{ id: '#card3', startProps: { top: '250px', left: '250px' }, endProps: { top: '25px', left: '45px' } }\n\t\t\t];\n\n\t\t\tcards.forEach((card, index) => {\n\t\t\t\tconst element = document.querySelector(card.id);\n\t\t\t\tif (element) {\n\t\t\t\t\tgsap.fromTo(element, card.startProps, {\n\t\t\t\t\t\t...card.endProps,\n\t\t\t\t\t\tscrollTrigger: {\n\t\t\t\t\t\t\ttrigger: card.id,\n\t\t\t\t\t\t\tscroller: pageContainer,\n\t\t\t\t\t\t\tstart: 'top bottom',\n\t\t\t\t\t\t\tend: 'bottom bottom',\n\t\t\t\t\t\t\tscrub: true,\n\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst light1 = document.querySelector('.light-1');\n\t\t\t// Timeline pour animer light-1 et light-2 séquentiellement\n\t\t\tconst tl = gsap.timeline({\n\t\t\t\tscrollTrigger: {\n\t\t\t\t\ttrigger: '#card2',\n\t\t\t\t\tscroller: pageContainer,\n\t\t\t\t\tstart: 'top bottom',\n\t\t\t\t\tend: 'bottom bottom',\n\t\t\t\t\tscrub: true,\n\t\t\t\t}\n\t\t\t});\n\n\t\t\ttl.fromTo('.light-1', {\n\t\t\t\tx: '0',\n\t\t\t\ty: '0'\n\t\t\t}, {\n\t\t\t\tx: '-174%',\n\t\t\t\ty: '131%'\n\t\t\t})\n\t\t\t\t.fromTo('.light-2', { opacity: 0 }, { opacity: 1, delay: 1.5, duration: 0.01 }, \"<\");\n\n\t\t\tScrollTrigger.create({\n\t\t\t\ttrigger: '#card3',\n\t\t\t\tscroller: pageContainer,\n\t\t\t\tstart: 'top bottom',\n\t\t\t\tend: 'bottom bottom',\n\t\t\t\tonEnter: () => {\n\t\t\t\t\tgsap.fromTo('.light-1', { x: '-174%', y: '131%' }, { x: '24%', y: '131%' });\n\t\t\t\t\tgsap.fromTo('.light-2', { opacity: 1 }, { opacity: 0, duration: 0.01 });\n\t\t\t\t},\n\t\t\t\tonLeaveBack: () => {\n\t\t\t\t\tgsap.fromTo('.light-1', { x: '24%', y: '131%' }, { x: '-174%', y: '131%' });\n\t\t\t\t\tgsap.fromTo('.light-2', { opacity: 0 }, { opacity: 1, duration: 0.01 });\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\t\tif (document.querySelector(\".pin-wrap\")) {\n\t\t\tlet pinWrap = document.querySelector(\".pin-wrap\");\n\t\t\tlet pinWrapWidth = pinWrap.offsetWidth;\n\t\t\tlet horizontalScrollLength = pinWrapWidth - window.innerWidth;\n\t\t\t// Pinning and horizontal scrolling\n\t\t\tgsap.to(\".pin-wrap\", {\n\t\t\t\tscrollTrigger: {\n\t\t\t\t\tscroller: pageContainer, // locomotive-scroll\n\t\t\t\t\tscrub: 0.5,\n\t\t\t\t\ttrigger: \"#sectionPin\",\n\t\t\t\t\tpin: true,\n\t\t\t\t\tstart: \"top top\",\n\t\t\t\t\tend: () => `+=${pinWrapWidth * 3}`,\n\t\t\t\t},\n\t\t\t\tx: -horizontalScrollLength,\n\t\t\t\tease: \"none\",\n\t\t\t});\n\n\n\t\t}\n\t\tif (document.querySelector(\".text-image-block\")) {\n\t\t\tconst textSteps = document.querySelectorAll('.text-step');\n\t\t\tconst imageSteps = document.querySelectorAll('.image-step');\n\t\t\tconst totalSteps = textSteps.length;\n\t\t\tconst container = document.getElementById('scroll-section');\n\t\t\tconst heightToScroll = window.innerHeight * totalSteps;\n\n\t\t\tconst pageContainer = document.querySelector('.container'); // Assurez-vous que .container est défini dans votre HTML\n\n\t\t\t// Épingler la section pendant le défilement\n\t\t\tScrollTrigger.create({\n\t\t\t\tscroller: pageContainer,\n\t\t\t\ttrigger: container,\n\t\t\t\tstart: \"top top\",\n\t\t\t\tend: `+=${heightToScroll} - 10`,\n\t\t\t\tpin: true,\n\t\t\t\tpinSpacing: true,\n\t\t\t\tscrub: 0.5,\n\t\t\t});\n\n\t\t\t// Initialiser les timelines pour les animations de texte et d'image\n\t\t\tconst tlText = gsap.timeline({\n\t\t\t\tscrollTrigger: {\n\t\t\t\t\tscroller: pageContainer,\n\t\t\t\t\ttrigger: container,\n\t\t\t\t\tstart: \"top top\",\n\t\t\t\t\tend: `+=${heightToScroll}`,\n\t\t\t\t\tscrub: true,\n\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst tlImage = gsap.timeline({\n\t\t\t\tscrollTrigger: {\n\t\t\t\t\tscroller: pageContainer,\n\t\t\t\t\ttrigger: container,\n\t\t\t\t\tstart: \"top top\",\n\t\t\t\t\tend: `+=${heightToScroll}`,\n\t\t\t\t\tscrub: true,\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Ajouter des animations pour chaque étape de texte\n\t\t\ttextSteps.forEach((step, i) => {\n\t\t\t\tif (i === 0) return; // Skip the first step\n\t\t\t\ttlText.fromTo(step, { opacity: 0 }, { opacity: 1, duration: 1 }, `${i * window.innerHeight}`)\n\t\t\t\tif (i !== 6) {\n\t\t\t\t\ttlImage.to(step, { opacity: 0, duration: 1 }, `${(i + 1) * window.innerHeight}`);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Ajouter des animations pour chaque étape d'image\n\t\t\timageSteps.forEach((step, i) => {\n\t\t\t\tif (i === 0) return; // Skip the first step\n\t\t\t\ttlImage.fromTo(step, { opacity: 0 }, { opacity: 1, duration: 1 }, `${i * window.innerHeight}`)\n\n\t\t\t\t// Ajoutez une animation de mise à l'échelle pour l'image de l'étape 1 à l'étape 2\n\t\t\t\tif (i === 1) {\n\t\t\t\t\ttlImage.to(imageSteps[0], { scale: 0.7, duration: 1, ease: 'SlowMo.ease' }, `${i * window.innerHeight}`);\n\t\t\t\t}\n\t\t\t\tif (i === 2) {\n\t\t\t\t\ttlImage.to(imageSteps[0], { opacity: 0, duration: 1 }, `${i * window.innerHeight}`);\n\t\t\t\t}\n\t\t\t\t// Condition spécifique pour l'étape 7 : ne pas passer à opacité 0 lorsqu'on continue à scroller vers le bas\n\t\t\t\tif (i !== 6) {\n\t\t\t\t\ttlImage.to(step, { opacity: 0, duration: 1 }, `${(i + 1) * window.innerHeight}`);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Cas spécial pour l'étape 5 et 6\n\t\t\ttlText.fromTo('#step6', { opacity: 0 }, { opacity: 1, duration: 1 }, `400vh`)\n\t\t\t\t.to('#step6', { opacity: 0, duration: 1 }, `500vh`);\n\t\t\t// Empêcher l'image de l'étape 7 de passer à opacité 0 lors du défilement vers le bas\n\n\n\t\t}\n\n\t\tif (document.querySelector('#goHouses')) {\n\t\t\tconst goHousesSection = document.querySelector('#goHouses');\n\n\t\t\t// Create a ScrollTrigger instance for the section\n\t\t\tScrollTrigger.create({\n\t\t\t\tscroller: pageContainer,\n\t\t\t\ttrigger: goHousesSection,\n\t\t\t\tstart: 'top top',\n\t\t\t\tend: 'bottom bottom',\n\t\t\t\tonEnter: () => {\n\t\t\t\t\tnav.classList.add(\"open\");\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tnavExpanded.classList.add(\"open\");\n\t\t\t\t\t}, 10);\n\t\t\t\t\t// INSERT_YOUR_CODE\n\n\t\t\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\t\t\txhr.open('GET', 'lesmaisons.php', true);\n\t\t\t\t\txhr.onreadystatechange = function () {\n\t\t\t\t\t\tif (xhr.readyState === 4 && xhr.status === 200) {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\twindow.location.href = 'lesmaisons.php';\n\t\t\t\t\t\t\t}, 2000); // 2 seconds timeout\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\txhr.send();\n\t\t\t\t},\n\t\t\t\tonLeaveBack: () => {\n\t\t\t\t\tnav.classList.remove(\"open\");\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tnavExpanded.classList.remove(\"open\");\n\t\t\t\t\t}, 10);\n\t\t\t\t\t// Add your custom function or animation here\n\t\t\t\t},\n\n\t\t\t});\n\t\t}\n\n\t\tif (document.querySelector('#goExperiences')) {\n\t\t\tconst goExperiencesSection = document.querySelector('#goExperiences');\n\n\t\t\t// Create a ScrollTrigger instance for the section\n\t\t\tScrollTrigger.create({\n\t\t\t\tscroller: pageContainer,\n\t\t\t\ttrigger: goExperiencesSection,\n\t\t\t\tstart: 'top top',\n\t\t\t\tend: 'bottom bottom',\n\t\t\t\tonEnter: () => {\n\t\t\t\t\tnav.classList.add(\"open\");\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tnavExpanded.classList.add(\"open\");\n\t\t\t\t\t}, 10);\n\t\t\t\t\t// INSERT_YOUR_CODE\n\n\t\t\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\t\t\txhr.open('GET', 'experiences-nature.php', true);\n\t\t\t\t\txhr.onreadystatechange = function () {\n\t\t\t\t\t\tif (xhr.readyState === 4 && xhr.status === 200) {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\twindow.location.href = 'experiences-nature.php';\n\t\t\t\t\t\t\t}, 2000); // 2 seconds timeout\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\txhr.send();\n\t\t\t\t},\n\t\t\t\tonLeaveBack: () => {\n\t\t\t\t\tnav.classList.remove(\"open\");\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tnavExpanded.classList.remove(\"open\");\n\t\t\t\t\t}, 10);\n\t\t\t\t\t// Add your custom function or animation here\n\t\t\t\t},\n\n\t\t\t});\n\t\t}\n\n\n\t\tif (document.querySelector('.slider-seasons')) {\n\n\t\t\tconst imagesSeason = document.querySelectorAll('.img-season');\n\t\t\tconst totalSteps = imagesSeason.length;\n\t\t\tconst container = document.querySelector('.slider-seasons');\n\t\t\tconst heightToScroll = window.innerHeight * 5;\n\t\t\tconst buttonsSeason = document.querySelectorAll('.button-season')\n\t\t\tconst pageContainer = document.querySelector('.container');\n\n\t\t\tbuttonsSeason.forEach((button, index) => {\n\t\t\t\tbutton.addEventListener('click', () => {\n\t\t\t\t\timagesSeason.forEach((image, imageIndex) => {\n\t\t\t\t\t\tif (imageIndex === index) {\n\t\t\t\t\t\t\timage.classList.add('active');\n\t\t\t\t\t\t\tgsap.to(image, { opacity: 1, duration: 1 });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\timage.classList.remove('active');\n\t\t\t\t\t\t\tgsap.to(image, { opacity: 0, duration: 1 });\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Update button classes\n\t\t\t\t\tbuttonsSeason.forEach((otherButton, buttonIndex) => {\n\t\t\t\t\t\tif (buttonIndex === index) {\n\t\t\t\t\t\t\totherButton.classList.add('active');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\totherButton.classList.remove('active');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If the first button is active, add 'first' class to all buttons and '#text-discover'\n\t\t\t\t\t\tif (index === 0) {\n\t\t\t\t\t\t\totherButton.classList.add('first');\n\t\t\t\t\t\t\tdocument.getElementById(\"text-discover\").classList.add('first');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\totherButton.classList.remove('first');\n\t\t\t\t\t\t\tdocument.getElementById(\"text-discover\").classList.remove('first');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Get the current step\n\t\t\t\t\tconst currentStep = Math.round(tlImage.scrollTrigger.progress() * totalSteps);\n\n\t\t\t\t\t// Calculate the scroll position\n\t\t\t\t\tconst scrollPosition = index * window.innerHeight - currentStep * window.innerHeight;\n\n\t\t\t\t\t// Simulate scroll\n\t\t\t\t\twindow.scrollTo({\n\t\t\t\t\t\ttop: scrollPosition,\n\t\t\t\t\t\tbehavior: 'smooth'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t\n\t\t\tScrollTrigger.create({\n\t\t\t\tscroller: pageContainer,\n\t\t\t\ttrigger: container,\n\t\t\t\tstart: \"top top\",\n\t\t\t\tend: `+=${heightToScroll} `,\n\t\t\t\tpin: true,\n\t\t\t\tpinSpacing: true,\n\t\t\t\tscrub: 0.5,\n\t\t\t});\n\n\n\t\t\tconst tlImage = gsap.timeline({\n\t\t\t\tscrollTrigger: {\n\t\t\t\t\tscroller: pageContainer,\n\t\t\t\t\ttrigger: container,\n\t\t\t\t\tstart: \"top top\",\n\t\t\t\t\tend: `+=${window.innerHeight * 4}`,\n\t\t\t\t\tscrub: true,\n\t\t\t\t}\n\t\t\t});\n\t\t\ttlImage.fromTo(imagesSeason[0], { opacity: 1 }, {\n\t\t\t\topacity: 1, duration: 1\n\t\t\t}, \"0\")\n\t\t\t\t.to(imagesSeason[0], {\n\t\t\t\t\topacity: 0, duration: 1, onComplete: function () {\n\t\t\t\t\t\tbuttonsSeason[0].classList.remove('active');\n\t\t\t\t\t\tbuttonsSeason[1].classList.add('active');\n\t\t\t\t\t\tdocument.getElementById(\"text-discover\").classList.remove('first')\n\t\t\t\t\t\tbuttonsSeason.forEach((button) => {\n\t\t\t\t\t\t\tbutton.classList.remove('first')\n\t\t\t\t\t\t})\n\t\t\t\t\t}, onReverseComplete: function () {\n\t\t\t\t\t\tbuttonsSeason[1].classList.remove('active');\n\t\t\t\t\t\tbuttonsSeason[0].classList.add('active');\n\t\t\t\t\t\tbuttonsSeason.forEach((button) => {\n\t\t\t\t\t\t\tbutton.classList.add('first')\n\t\t\t\t\t\t})\n\t\t\t\t\t\tdocument.getElementById(\"text-discover\").classList.add('first')\n\t\t\t\t\t}\n\t\t\t\t}, window.innerHeight);\n\n\t\t\ttlImage.fromTo(imagesSeason[1], { opacity: 0 }, {\n\t\t\t\topacity: 1, duration: 1\n\t\t\t}, window.innerHeight)\n\t\t\t\t.to(imagesSeason[1], {\n\t\t\t\t\topacity: 0, duration: 1, onComplete: function () {\n\t\t\t\t\t\tbuttonsSeason[1].classList.remove('active');\n\t\t\t\t\t\tbuttonsSeason[2].classList.add('active');\n\t\t\t\t\t}, onReverseComplete: function () {\n\t\t\t\t\t\tbuttonsSeason[2].classList.remove('active');\n\t\t\t\t\t\tbuttonsSeason[1].classList.add('active');\n\t\t\t\t\t}\n\t\t\t\t}, window.innerHeight * 2);\n\n\t\t\ttlImage.fromTo(imagesSeason[2], { opacity: 0 }, {\n\t\t\t\topacity: 1, duration: 1\n\t\t\t}, window.innerHeight * 2)\n\t\t\t\t.to(imagesSeason[2], {\n\t\t\t\t\topacity: 0, duration: 1, onComplete: function () {\n\t\t\t\t\t\tbuttonsSeason[2].classList.remove('active');\n\t\t\t\t\t\tbuttonsSeason[3].classList.add('active');\n\t\t\t\t\t}, onReverseComplete: function () {\n\t\t\t\t\t\tbuttonsSeason[3].classList.remove('active');\n\t\t\t\t\t\tbuttonsSeason[2].classList.add('active');\n\t\t\t\t\t}\n\t\t\t\t}, window.innerHeight * 3);\n\n\t\t\ttlImage.fromTo(imagesSeason[3], { opacity: 0 }, {\n\t\t\t\topacity: 1, duration: 1\n\t\t\t}, window.innerHeight * 3);\n\t\t}\n\t\tif (document.querySelector(\".pin-wrapBis\")) {\n\t\t\tlet pinWrap = document.querySelector(\".pin-wrapBis\");\n\t\t\tlet pinWrapWidth = pinWrap.offsetWidth;\n\t\t\tlet horizontalScrollLength = pinWrapWidth - window.innerWidth;\n\t\t\tconsole.log(\"here\", pinWrapWidth, window.innerWidth, horizontalScrollLength)\n\t\t\t// Pinning and horizontal scrolling\n\t\t\tgsap.to(\".pin-wrapBis\", {\n\t\t\t\tscrollTrigger: {\n\t\t\t\t\tscroller: pageContainer, // locomotive-scroll\n\t\t\t\t\tscrub: 0.5,\n\t\t\t\t\ttrigger: \"#sectionPin2\",\n\t\t\t\t\tpin: true,\n\t\t\t\t\tstart: \"top top\",\n\t\t\t\t\tend: () => `+=${pinWrapWidth}`,\n\t\t\t\t},\n\t\t\t\tx: -horizontalScrollLength,\n\t\t\t\tease: \"none\",\n\t\t\t});\n\t\t}\n\t\tif (document.querySelector(\".text-slider-section\")) {\n\t\t\tlet imagesSlider = document.querySelectorAll('.slider-diag-content img')\n\n\n\t\t\tlet animation = gsap.fromTo(imagesSlider[1],\n\t\t\t\t{ left: \"100%\", top: \"50%\" },\n\t\t\t\t{\n\t\t\t\t\tleft: \"-5%\", top: \"25%\",\n\t\t\t\t\tduration: 1,\n\t\t\t\t\tease: \"SlowMo.ease\",\n\t\t\t\t\tpaused: true // Pause the animation initially\n\t\t\t\t}\n\t\t\t);\n\t\t\tScrollTrigger.create({\n\t\t\t\tscroller: pageContainer, // locomotive-scroll\n\t\t\t\ttrigger: \"#text-slider-section-pin\",\n\t\t\t\tpin: true,\n\t\t\t\tstart: \"top top\", // start after scrolling 50vh\n\t\t\t\tend: \"+=300%\", // keep the section pinned for 300%\n\t\t\t\tonEnter: () => {\n\t\t\t\t\tanimation.play();\n\t\t\t\t\tgsap.to(document.querySelector('.bee-part img'), { left: '100%', duration: 5, ease: \"SlowMo.ease\" });\n\t\t\t\t},\n\t\t\t\tonLeaveBack: () => {\n\t\t\t\t\tanimation.reverse();\n\t\t\t\t\tgsap.to(document.querySelector('.bee-part img'), { left: '-200px', duration: 5, ease: \"SlowMo.ease\" });\n\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (document.querySelector('#goContact')) {\n\t\t\tconst goContactSection = document.querySelector('#goContact');\n\n\t\t\t// Create a ScrollTrigger instance for the section\n\t\t\tScrollTrigger.create({\n\t\t\t\tscroller: pageContainer,\n\t\t\t\ttrigger: goContactSection,\n\t\t\t\tstart: 'top 80%',\n\n\t\t\t\tonEnter: () => {\n\t\t\t\t\tconsole.log('here')\n\t\t\t\t\tnav.classList.add(\"open\");\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tnavExpanded.classList.add(\"open\");\n\t\t\t\t\t}, 10);\n\t\t\t\t\t// INSERT_YOUR_CODE\n\n\t\t\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\t\t\txhr.open('GET', 'contact.php', true);\n\t\t\t\t\txhr.onreadystatechange = function () {\n\t\t\t\t\t\tif (xhr.readyState === 4 && xhr.status === 200) {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\twindow.location.href = 'contact.php';\n\t\t\t\t\t\t\t}, 2000); // 2 seconds timeout\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\txhr.send();\n\t\t\t\t},\n\t\t\t\tonLeaveBack: () => {\n\t\t\t\t\tnav.classList.remove(\"open\");\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tnavExpanded.classList.remove(\"open\");\n\t\t\t\t\t}, 10);\n\t\t\t\t\t// Add your custom function or animation here\n\t\t\t\t},\n\n\t\t\t});\n\t\t}\n\n\t\tif (document.querySelector('#goHome')) {\n\t\t\tconst endDrawing = document.querySelector('#goHome');\n\n\t\t\tconsole.log(endDrawing)\n\t\t\t// Create a ScrollTrigger instance for the section\n\t\t\tScrollTrigger.create({\n\t\t\t\tscroller: pageContainer,\n\t\t\t\ttrigger: endDrawing,\n\t\t\t\tstart: 'top top',\n\t\t\t\tend: 'bottom bottom',\n\t\t\t\tonEnter: () => {\n\t\t\t\t\tnav.classList.add(\"open\");\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tnavExpanded.classList.add(\"open\");\n\t\t\t\t\t}, 10);\n\t\t\t\t\t// INSERT_YOUR_CODE\n\n\t\t\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\t\t\txhr.open('GET', 'index.php', true);\n\t\t\t\t\txhr.onreadystatechange = function () {\n\t\t\t\t\t\tif (xhr.readyState === 4 && xhr.status === 200) {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\twindow.location.href = 'index.php';\n\t\t\t\t\t\t\t}, 2000); // 2 seconds timeout\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\txhr.send();\n\t\t\t\t},\n\t\t\t\tonLeaveBack: () => {\n\t\t\t\t\tnav.classList.remove(\"open\");\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tnavExpanded.classList.remove(\"open\");\n\t\t\t\t\t}, 10);\n\t\t\t\t\t// Add your custom function or animation here\n\t\t\t\t},\n\n\t\t\t});\n\t\t}\n\t\t////////////////////////////////////\n\t\tscroller.on(\"call\", (value) => {\n\t\t\tif (value === \"test\") {\n\t\t\t\tif (window.innerWidth < 576) {\n\t\t\t\t\tif (document.querySelector(\".imgPileElement:last-of-type\").classList.contains(\"is-inview\")) {\n\t\t\t\t\t\tdocument.getElementById(\"imgPile-text-first\").classList.remove(\"hide\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (value === \"video-border-block\") {\n\t\t\t\tdocument.querySelector(\".video-border-background .border-animation\").classList.add(\"animate\");\n\t\t\t} else if (value === \"video-border-block-back\") {\n\t\t\t\tdocument.querySelector(\".video-border-background .border-animation\").classList.remove(\"animate\");\n\t\t\t}\n\t\t});\n\n\t\tScrollTrigger.refresh()\n\t}\n\tconst nav = document.querySelector(\"nav\");\n\tconst navSmall = document.querySelector(\".navigation-small\");\n\tconst navExpanded = document.querySelector(\".navigation-expanded\");\n\t///////////// NAVIGATION //////////////\n\tif (document.querySelector(\"nav\")) {\n\n\n\t\tlet navExpandedhover;\n\t\tlet closeNavTimeout;\n\n\t\tnavExpanded.addEventListener(\"mouseenter\", function () {\n\t\t\tnavExpandedhover = true;\n\t\t\tclearTimeout(closeNavTimeout); // Cancel the closing if mouse enters navExpanded\n\t\t});\n\t\tnavExpanded.addEventListener(\"mouseleave\", function () {\n\t\t\tnavExpandedhover = false;\n\t\t\tcloseNav();\n\t\t});\n\n\t\tnavSmall.addEventListener(\"mouseenter\", function () {\n\t\t\tnav.classList.add(\"open\");\n\t\t\tsetTimeout(function () {\n\t\t\t\tnavExpanded.classList.add(\"open\");\n\t\t\t}, 10);\n\t\t});\n\n\t\tnavSmall.addEventListener(\"mouseleave\", function () {\n\t\t\tcloseNav();\n\t\t});\n\n\t\tfunction closeNav() {\n\t\t\tcloseNavTimeout = setTimeout(function () {\n\t\t\t\tif (!navExpandedhover) { // Only close if mouse is not over navExpanded\n\t\t\t\t\tnav.classList.remove(\"open\");\n\t\t\t\t\tnavExpanded.classList.remove(\"open\");\n\t\t\t\t}\n\t\t\t}, 10);\n\t\t}\n\t}\n\tif (document.querySelector(\"#allHouses\")) {\n\t\tvar areas = document.querySelectorAll('#allHouses circle');\n\t\tvar houseImage = document.querySelector('.house-zone');\n\t\tareas.forEach(function (area) {\n\t\t\tarea.addEventListener('mouseover', function () {\n\t\t\t\tvar houseNumber = this.dataset.index; // Get the house number from the data-index attribute\n\t\t\t\thouseImage.src = 'assets/img/content/house' + houseNumber + '.png'; // Change the image source\n\t\t\t\thouseImage.style.opacity = 1; // Set the opacity to 1\n\t\t\t});\n\n\t\t\tarea.addEventListener('mouseout', function () {\n\t\t\t\thouseImage.src = ''; // Remove the image source when not hovering\n\t\t\t});\n\t\t\tarea.addEventListener('click', function (event) {\n\t\t\t\tevent.preventDefault(); // Prevent the default action (navigation)\n\t\t\t\tvar houseNumber = this.dataset.index; // Get the house number from the data-index attribute\n\t\t\t\tvar popin = document.getElementById('popin-house-' + houseNumber); // Get the corresponding popin\n\t\t\t\tpopin.style.display = 'block'; // Show the popin\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tpopin.style.opacity = 1; // Show the popin\n\t\t\t\t}, 10)\n\n\t\t\t});\n\t\t\tvar popinCloseButtons = document.querySelectorAll('.popin-house .popin-close');\n\n\t\t\tpopinCloseButtons.forEach(function (button) {\n\t\t\t\tbutton.addEventListener('click', function () {\n\t\t\t\t\tdocument.querySelector('.popin-house').style.opacity = 0 // Show the popin\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tdocument.querySelector('.popin-house').style.display = 'none'; // Show the popin\n\t\t\t\t\t}, 1000)\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n});\n// ... existing code ...\nwindow.addEventListener('unload', function () {\n\tScrollTrigger.getAll().forEach(ST => {\n\t\tif (ST.pin) {\n\t\t\tST.unpin();\n\t\t}\n\t\tST.kill();\n\t});\n\tscroller.destroy();\n});\n"]}