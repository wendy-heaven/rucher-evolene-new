function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var o,n=Object.keys(t);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(t),e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)),n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach(function(e){_defineProperty(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function _defineProperty(e,t,o){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0===o)return("string"===t?String:Number)(e);o=o.call(e,t||"default");if("object"!=_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}gsap.registerPlugin(ScrollTrigger),window.addEventListener("load",function(){window.scrollTo(0,0);var n,t,o,e,r,i,c,s,a,l,d,u,p,m,g,y,f,v,S,h,w=document.getElementById("loading-page"),b=(w&&(w.style.opacity=0,setTimeout(function(){w.style.display="none"},2e3)),document.querySelector(".splide")&&document.querySelectorAll(".splide").forEach(function(e){new Splide(e,{arrows:!1}).mount()}),document.querySelector(".splide-small")&&document.querySelectorAll(".splide.splide-small").forEach(function(e){new Splide(e,{pagination:!1,padding:{left:0,right:"20%"},type:"loop",arrowPath:"M0 21h38l-4 6v1l6-8-6-6v1l4 5H0z"}).mount()}),document.querySelector(".container")&&(n=document.querySelector(".container"),t=new LocomotiveScroll({el:n,smooth:!0,getDirection:!0,mobile:{breakpoint:0,smooth:!0,getDirection:!0},tablet:{breakpoint:0,smooth:!0,getDirection:!0}}),ScrollTrigger.scrollerProxy(n,{scrollTop:function(e){return arguments.length?t.scrollTo(e,0,0):t.scroll.instance.scroll.y},getBoundingClientRect:function(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}},pinType:n.style.transform?"transform":"fixed"}),t.on("scroll",ScrollTrigger.update),ScrollTrigger.addEventListener("refresh",function(){return t.update()}),window.innerWidth<576&&document.querySelector("#imgPile-text-first")&&document.getElementById("imgPile-text-first").classList.add("hide"),document.querySelector(".js-popincontainer")&&(document.body.addEventListener("click",function(e){var t,o;e.target.closest(".js-open-popin-video")&&(e.preventDefault(),e=e.target.closest(".js-open-popin-video").getAttribute("data-popin"),(o=(t=document.querySelector(".js-popincontainer")).querySelector(".video")).src="assets/video/".concat(e,".mp4"),o&&o.play(),t.style.display="block",setTimeout(function(){t.style.opacity=1},10))}),document.body.addEventListener("click",function(e){var t;e.target.closest(".js-popincontent .btn_close")&&((e=document.querySelector(".js-popincontainer video"))&&(e.pause(),e.currentTime=0),(t=document.querySelector(".js-popincontainer")).style.opacity=0,setTimeout(function(){t.style.display="none"},300))}),document.body.addEventListener("click",function(e){var t;e.target.closest(".js-popincontainer")&&!e.target.closest(".video")&&(t=document.querySelector(".js-popincontainer"),e=document.querySelector(".js-popincontainer video"),t.style.opacity=0,setTimeout(function(){t.style.display="none"},300),e)&&(e.pause(),e.currentTime=0)}),document.body.addEventListener("click",function(e){e.target.closest(".js-popincontent")&&e.stopPropagation()})),document.querySelector(".pin-item")&&(o=gsap.fromTo(".pin-wrapper",{y:0},{y:"-100vh",duration:1,ease:"SlowMo.ease",paused:!0}),ScrollTrigger.create({scroller:n,trigger:"#sectionPin0",pin:!0,start:"top top",end:"+=300%",onUpdate:function(e){.5<=e.progress&&0===o.progress()?o.play():e.progress<=.49&&o.reverse()}})),document.querySelector(".video-border-block ")&&(m=document.querySelector(".video-border-block"),ScrollTrigger.create({scroller:n,trigger:m,pin:!0,start:"top top",end:"bottom top",onEnter:function(){document.querySelector(".border-animation").classList.add("animate")},onLeave:function(){document.querySelector(".border-animation").classList.remove("animate")}})),document.querySelector(".light-1")&&([{id:"#card1",startProps:{top:"250px",left:"25px"},endProps:{top:"45px",left:"25px"}},{id:"#card2",startProps:{top:"250px",left:"-250px"},endProps:{top:"65px",left:"5px"}},{id:"#card3",startProps:{top:"250px",left:"250px"},endProps:{top:"25px",left:"45px"}}].forEach(function(e,t){var o=document.querySelector(e.id);o&&gsap.fromTo(o,e.startProps,_objectSpread(_objectSpread({},e.endProps),{},{scrollTrigger:{trigger:e.id,scroller:n,start:"top bottom",end:"bottom bottom",scrub:!0}}))}),document.querySelector(".light-1"),gsap.timeline({scrollTrigger:{trigger:"#card2",scroller:n,start:"top bottom",end:"bottom bottom",scrub:!0}}).fromTo(".light-1",{x:"0",y:"0"},{x:"-174%",y:"131%"}).fromTo(".light-2",{opacity:0},{opacity:1,delay:1.5,duration:.01},"<"),ScrollTrigger.create({trigger:"#card3",scroller:n,start:"top bottom",end:"bottom bottom",onEnter:function(){gsap.fromTo(".light-1",{x:"-174%",y:"131%"},{x:"24%",y:"131%"}),gsap.fromTo(".light-2",{opacity:1},{opacity:0,duration:.01})},onLeaveBack:function(){gsap.fromTo(".light-1",{x:"24%",y:"131%"},{x:"-174%",y:"131%"}),gsap.fromTo(".light-2",{opacity:0},{opacity:1,duration:.01})}})),document.querySelector(".pin-wrap")&&(m=(e=document.querySelector(".pin-wrap").offsetWidth)-window.innerWidth,gsap.to(".pin-wrap",{scrollTrigger:{scroller:n,scrub:.5,trigger:"#sectionPin",pin:!0,start:"top top",end:function(){return"+=".concat(3*e)}},x:-m,ease:"none"})),document.querySelector(".text-image-block")&&(m=document.querySelectorAll(".text-step"),g=document.querySelectorAll(".image-step"),L=m.length,u=document.getElementById("scroll-section"),L=window.innerHeight*(L+1),S=document.querySelector(".container"),ScrollTrigger.create({scroller:S,trigger:u,start:"top top",end:"+=".concat(L," - 10"),pin:!0,pinSpacing:!0,scrub:.5}),r=gsap.timeline({scrollTrigger:{scroller:S,trigger:u,start:"top top",end:"+=".concat(L),scrub:!0}}),i=gsap.timeline({scrollTrigger:{scroller:S,trigger:u,start:"top top",end:"+=".concat(L),scrub:!0}}),m.forEach(function(e,t){0!==t&&r.fromTo(e,{opacity:0},{opacity:1,duration:1},"".concat(t*window.innerHeight)).to(e,{opacity:0,duration:1},"".concat((t+1)*window.innerHeight))}),g.forEach(function(e,t){i.fromTo(e,{opacity:0},{opacity:1,duration:1},"".concat(t*window.innerHeight)).to(e,{opacity:0,duration:1},"".concat((t+1)*window.innerHeight))})),document.querySelector("#goHouses")&&(S=document.querySelector("#goHouses"),ScrollTrigger.create({scroller:n,trigger:S,start:"top top",end:"bottom bottom",onEnter:function(){b.classList.add("open"),setTimeout(function(){T.classList.add("open")},10);var e=new XMLHttpRequest;e.open("GET","lesmaisons.php",!0),e.onreadystatechange=function(){4===e.readyState&&200===e.status&&setTimeout(function(){window.location.href="lesmaisons.php"},2e3)},e.send()},onLeaveBack:function(){b.classList.remove("open"),setTimeout(function(){T.classList.remove("open")},10)}})),document.querySelector("#goExperiences")&&(u=document.querySelector("#goExperiences"),ScrollTrigger.create({scroller:n,trigger:u,start:"top top",end:"bottom bottom",onEnter:function(){b.classList.add("open"),setTimeout(function(){T.classList.add("open")},10);var e=new XMLHttpRequest;e.open("GET","experiences-nature.php",!0),e.onreadystatechange=function(){4===e.readyState&&200===e.status&&setTimeout(function(){window.location.href="experiences-nature.php"},2e3)},e.send()},onLeaveBack:function(){b.classList.remove("open"),setTimeout(function(){T.classList.remove("open")},10)}})),document.querySelector(".slider-seasons")&&(c=document.querySelectorAll(".img-season"),s=c.length,L=document.querySelector(".slider-seasons"),m=5*window.innerHeight,a=document.querySelectorAll(".button-season"),g=document.querySelector(".container"),a.forEach(function(e,o){e.addEventListener("click",function(){c.forEach(function(e,t){t===o?(e.classList.add("active"),gsap.to(e,{opacity:1,duration:1})):(e.classList.remove("active"),gsap.to(e,{opacity:0,duration:1}))}),a.forEach(function(e,t){t===o?e.classList.add("active"):e.classList.remove("active"),0===o?(e.classList.add("first"),document.getElementById("text-discover").classList.add("first")):(e.classList.remove("first"),document.getElementById("text-discover").classList.remove("first"))});var e=Math.round(l.scrollTrigger.progress()*s),e=o*window.innerHeight-e*window.innerHeight;window.scrollTo({top:e,behavior:"smooth"})})}),ScrollTrigger.create({scroller:g,trigger:L,start:"top top",end:"+=".concat(m," "),pin:!0,pinSpacing:!0,scrub:.5}),(l=gsap.timeline({scrollTrigger:{scroller:g,trigger:L,start:"top top",end:"+=".concat(4*window.innerHeight),scrub:!0}})).fromTo(c[0],{opacity:1},{opacity:1,duration:1},"0").to(c[0],{opacity:0,duration:1,onComplete:function(){a[0].classList.remove("active"),a[1].classList.add("active"),document.getElementById("text-discover").classList.remove("first"),a.forEach(function(e){e.classList.remove("first")})},onReverseComplete:function(){a[1].classList.remove("active"),a[0].classList.add("active"),a.forEach(function(e){e.classList.add("first")}),document.getElementById("text-discover").classList.add("first")}},window.innerHeight),l.fromTo(c[1],{opacity:0},{opacity:1,duration:1},window.innerHeight).to(c[1],{opacity:0,duration:1,onComplete:function(){a[1].classList.remove("active"),a[2].classList.add("active")},onReverseComplete:function(){a[2].classList.remove("active"),a[1].classList.add("active")}},2*window.innerHeight),l.fromTo(c[2],{opacity:0},{opacity:1,duration:1},2*window.innerHeight).to(c[2],{opacity:0,duration:1,onComplete:function(){a[2].classList.remove("active"),a[3].classList.add("active")},onReverseComplete:function(){a[3].classList.remove("active"),a[2].classList.add("active")}},3*window.innerHeight),l.fromTo(c[3],{opacity:0},{opacity:1,duration:1},3*window.innerHeight)),document.querySelector(".pin-wrapBis")&&(S=(d=document.querySelector(".pin-wrapBis").offsetWidth)-window.innerWidth,console.log("here",d,window.innerWidth,S),gsap.to(".pin-wrapBis",{scrollTrigger:{scroller:n,scrub:.5,trigger:"#sectionPin2",pin:!0,start:"top top",end:function(){return"+=".concat(d)}},x:-S,ease:"none"})),document.querySelector(".text-slider-section")&&(u=document.querySelectorAll(".slider-diag-content img"),p=gsap.fromTo(u[1],{left:"100%",top:"50%"},{left:"-5%",top:"25%",duration:1,ease:"SlowMo.ease",paused:!0}),ScrollTrigger.create({scroller:n,trigger:"#text-slider-section-pin",pin:!0,start:"top top",end:"+=300%",onEnter:function(){p.play(),gsap.to(document.querySelector(".bee-part img"),{left:"100%",duration:5,ease:"SlowMo.ease"})},onLeaveBack:function(){p.reverse(),gsap.to(document.querySelector(".bee-part img"),{left:"-200px",duration:5,ease:"SlowMo.ease"})}})),document.querySelector("#goContact")&&(m=document.querySelector("#goContact"),ScrollTrigger.create({scroller:n,trigger:m,start:"top 80%",onEnter:function(){console.log("here"),b.classList.add("open"),setTimeout(function(){T.classList.add("open")},10);var e=new XMLHttpRequest;e.open("GET","contact.php",!0),e.onreadystatechange=function(){4===e.readyState&&200===e.status&&setTimeout(function(){window.location.href="contact.php"},2e3)},e.send()},onLeaveBack:function(){b.classList.remove("open"),setTimeout(function(){T.classList.remove("open")},10)}})),document.querySelector("#goHome")&&(g=document.querySelector("#goHome"),console.log(g),ScrollTrigger.create({scroller:n,trigger:g,start:"top top",end:"bottom bottom",onEnter:function(){b.classList.add("open"),setTimeout(function(){T.classList.add("open")},10);var e=new XMLHttpRequest;e.open("GET","index.php",!0),e.onreadystatechange=function(){4===e.readyState&&200===e.status&&setTimeout(function(){window.location.href="index.php"},2e3)},e.send()},onLeaveBack:function(){b.classList.remove("open"),setTimeout(function(){T.classList.remove("open")},10)}})),t.on("call",function(e){"test"===e?window.innerWidth<576&&document.querySelector(".imgPileElement:last-of-type").classList.contains("is-inview")&&document.getElementById("imgPile-text-first").classList.remove("hide"):"video-border-block"===e?document.querySelector(".video-border-background .border-animation").classList.add("animate"):"video-border-block-back"===e&&document.querySelector(".video-border-background .border-animation").classList.remove("animate")}),ScrollTrigger.refresh()),document.querySelector("nav")),L=document.querySelector(".navigation-small"),T=document.querySelector(".navigation-expanded");document.querySelector("nav")&&(y=function(){v=setTimeout(function(){f||(b.classList.remove("open"),T.classList.remove("open"))},10)},T.addEventListener("mouseenter",function(){f=!0,clearTimeout(v)}),T.addEventListener("mouseleave",function(){f=!1,y()}),L.addEventListener("mouseenter",function(){b.classList.add("open"),setTimeout(function(){T.classList.add("open")},10)}),L.addEventListener("mouseleave",function(){y()})),document.querySelector("#allHouses")&&(S=document.querySelectorAll("#allHouses circle"),h=document.querySelector(".house-zone"),S.forEach(function(e){e.addEventListener("mouseover",function(){var e=this.dataset.index;h.src="assets/img/content/house"+e+".png",h.style.opacity=1}),e.addEventListener("mouseout",function(){h.src=""}),e.addEventListener("click",function(e){e.preventDefault();var e=this.dataset.index,t=document.getElementById("popin-house-"+e);t.style.display="block",setTimeout(function(){t.style.opacity=1},10)}),document.querySelectorAll(".popin-house .popin-close").forEach(function(e){e.addEventListener("click",function(){document.querySelector(".popin-house").style.opacity=0,setTimeout(function(){document.querySelector(".popin-house").style.display="none"},1e3)})})}))}),window.addEventListener("unload",function(){ScrollTrigger.getAll().forEach(function(e){e.pin&&e.unpin(),e.kill()}),scroller.destroy()});
//# sourceMappingURL=main.js.map
