function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var o,n=Object.keys(t);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(t),e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)),n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach(function(e){_defineProperty(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function _defineProperty(e,t,o){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0===o)return("string"===t?String:Number)(e);o=o.call(e,t||"default");if("object"!=_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}gsap.registerPlugin(ScrollTrigger),window.addEventListener("load",function(){document.querySelector(".splide")&&document.querySelectorAll(".splide").forEach(function(e){new Splide(e,{arrows:!1}).mount()}),document.querySelector(".splide-small")&&document.querySelectorAll(".splide.splide-small").forEach(function(e){new Splide(e,{pagination:!1,padding:{left:0,right:"20%"},type:"loop",arrowPath:"M0 21h38l-4 6v1l6-8-6-6v1l4 5H0z"}).mount()}),document.querySelector(".container")&&(n=document.querySelector(".container"),t=new LocomotiveScroll({el:n,smooth:!0,getDirection:!0,mobile:{breakpoint:0,smooth:!0,getDirection:!0},tablet:{breakpoint:0,smooth:!0,getDirection:!0}}),ScrollTrigger.scrollerProxy(n,{scrollTop:function(e){return arguments.length?t.scrollTo(e,0,0):t.scroll.instance.scroll.y},getBoundingClientRect:function(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}},pinType:n.style.transform?"transform":"fixed"}),t.on("scroll",ScrollTrigger.update),ScrollTrigger.addEventListener("refresh",function(){return t.update()}),window.innerWidth<576&&document.querySelector("#imgPile-text-first")&&document.getElementById("imgPile-text-first").classList.add("hide"),document.querySelector(".js-popincontainer")&&(document.body.addEventListener("click",function(e){var t,o;e.target.closest(".js-open-popin-video")&&(e.preventDefault(),e=e.target.closest(".js-open-popin-video").getAttribute("data-popin"),(o=(t=document.querySelector(".js-popincontainer")).querySelector(".video")).src="assets/video/".concat(e,".mp4"),o&&o.play(),t.style.display="block",setTimeout(function(){t.style.opacity=1},10))}),document.body.addEventListener("click",function(e){var t;e.target.closest(".js-popincontent .btn_close")&&((e=document.querySelector(".js-popincontainer video"))&&(e.pause(),e.currentTime=0),(t=document.querySelector(".js-popincontainer")).style.opacity=0,setTimeout(function(){t.style.display="none"},300))}),document.body.addEventListener("click",function(e){var t;e.target.closest(".js-popincontainer")&&!e.target.closest(".video")&&(t=document.querySelector(".js-popincontainer"),e=document.querySelector(".js-popincontainer video"),t.style.opacity=0,setTimeout(function(){t.style.display="none"},300),e)&&(e.pause(),e.currentTime=0)}),document.body.addEventListener("click",function(e){e.target.closest(".js-popincontent")&&e.stopPropagation()})),document.querySelector(".pin-item")&&(o=gsap.fromTo(".pin-wrapper",{y:0},{y:"-100vh",duration:1,ease:"SlowMo.ease",paused:!0}),ScrollTrigger.create({scroller:n,trigger:"#sectionPin0",pin:!0,start:"top top",end:"+=300%",onUpdate:function(e){.5<=e.progress&&0===o.progress()?o.play():e.progress<=.49&&o.reverse()}})),document.querySelector(".video-border-block ")&&(b=document.querySelector(".video-border-block"),ScrollTrigger.create({scroller:n,trigger:b,start:"top top",end:"bottom top",onEnter:function(){document.querySelector(".border-animation").classList.add("animate")},onLeave:function(){document.querySelector(".border-animation").classList.remove("animate")}})),document.querySelector(".light-1")&&([{id:"#card1",startProps:{top:"250px",left:"25px"},endProps:{top:"45px",left:"25px"}},{id:"#card2",startProps:{top:"250px",left:"-250px"},endProps:{top:"65px",left:"5px"}},{id:"#card3",startProps:{top:"250px",left:"250px"},endProps:{top:"25px",left:"45px"}}].forEach(function(e,t){var o=document.querySelector(e.id);o&&gsap.fromTo(o,e.startProps,_objectSpread(_objectSpread({},e.endProps),{},{scrollTrigger:{trigger:e.id,scroller:n,start:"top bottom",end:"bottom bottom",scrub:!0}}))}),document.querySelector(".light-1"),gsap.timeline({scrollTrigger:{trigger:"#card2",scroller:n,start:"top bottom",end:"bottom bottom",scrub:!0}}).fromTo(".light-1",{x:"0",y:"0"},{x:"-174%",y:"131%"}).fromTo(".light-2",{opacity:0},{opacity:1,delay:.5},"<"),ScrollTrigger.create({trigger:"#card3",scroller:n,start:"top bottom",end:"bottom bottom",onEnter:function(){gsap.fromTo(".light-1",{x:"-174%",y:"131%"},{x:"24%",y:"131%"}),gsap.fromTo(".light-2",{opacity:1},{opacity:0})},onLeaveBack:function(){gsap.fromTo(".light-1",{x:"24%",y:"131%"},{x:"-174%",y:"131%"}),gsap.fromTo(".light-2",{opacity:0},{opacity:1})}})),document.querySelector(".pin-wrap")&&(b=(e=document.querySelector(".pin-wrap").offsetWidth)-window.innerWidth,gsap.to(".pin-wrap",{scrollTrigger:{scroller:n,scrub:.5,trigger:"#sectionPin",pin:!0,start:"top top",end:function(){return"+=".concat(3*e)}},x:-b,ease:"none"})),document.querySelector(".text-image-block")&&(b=document.querySelectorAll(".text-step"),r=document.querySelectorAll(".image-step"),s=b.length,u=document.getElementById("scroll-section"),s=window.innerHeight*s,y=document.querySelector(".container"),ScrollTrigger.create({scroller:y,trigger:u,start:"top top",end:"+=".concat(s," - 10"),pin:!0,pinSpacing:!0,scrub:.5}),i=gsap.timeline({scrollTrigger:{scroller:y,trigger:u,start:"top top",end:"+=".concat(s),scrub:!0}}),c=gsap.timeline({scrollTrigger:{scroller:y,trigger:u,start:"top top",end:"+=".concat(s),scrub:!0}}),b.forEach(function(e,t){0!==t&&(i.fromTo(e,{opacity:0},{opacity:1,duration:1},"".concat(t*window.innerHeight)),6!==t)&&c.to(e,{opacity:0,duration:1},"".concat((t+1)*window.innerHeight))}),r.forEach(function(e,t){0!==t&&(c.fromTo(e,{opacity:0},{opacity:1,duration:1},"".concat(t*window.innerHeight)),1===t&&c.to(r[0],{scale:.7,duration:1,ease:"SlowMo.ease"},"".concat(t*window.innerHeight)),2===t&&c.to(r[0],{opacity:0,duration:1},"".concat(t*window.innerHeight)),6!==t)&&c.to(e,{opacity:0,duration:1},"".concat((t+1)*window.innerHeight))}),i.fromTo("#step6",{opacity:0},{opacity:1,duration:1},"400vh").to("#step6",{opacity:0,duration:1},"500vh")),document.querySelector("#goHouses")&&(y=document.querySelector("#goHouses"),ScrollTrigger.create({scroller:n,trigger:y,start:"top top",end:"bottom bottom",onEnter:function(){f.classList.add("open"),setTimeout(function(){v.classList.add("open")},10);var e=new XMLHttpRequest;e.open("GET","lesmaisons.php",!0),e.onreadystatechange=function(){4===e.readyState&&200===e.status&&setTimeout(function(){window.location.href="lesmaisons.php"},2e3)},e.send()},onLeaveBack:function(){f.classList.remove("open"),setTimeout(function(){v.classList.remove("open")},10)}})),document.querySelector("#goExperiences")&&(u=document.querySelector("#goExperiences"),ScrollTrigger.create({scroller:n,trigger:u,start:"top top",end:"bottom bottom",onEnter:function(){f.classList.add("open"),setTimeout(function(){v.classList.add("open")},10);var e=new XMLHttpRequest;e.open("GET","lesmaisons.php",!0),e.onreadystatechange=function(){4===e.readyState&&200===e.status&&setTimeout(function(){window.location.href="experiences-nature.php"},2e3)},e.send()},onLeaveBack:function(){f.classList.remove("open"),setTimeout(function(){v.classList.remove("open")},10)}})),document.querySelector(".slider-seasons")&&((s=document.querySelectorAll(".img-season")).length,b=document.querySelector(".slider-seasons"),y=5*window.innerHeight,a=document.querySelectorAll(".button-season"),u=document.querySelector(".container"),ScrollTrigger.create({scroller:u,trigger:b,start:"top top",end:"+=".concat(y," "),pin:!0,pinSpacing:!0,scrub:.5}),(y=gsap.timeline({scrollTrigger:{scroller:u,trigger:b,start:"top top",end:"+=".concat(4*window.innerHeight),scrub:!0}})).fromTo(s[0],{opacity:1},{opacity:1,duration:1},"0").to(s[0],{opacity:0,duration:1,onComplete:function(){a[0].classList.remove("active"),a[1].classList.add("active")}},window.innerHeight),y.fromTo(s[1],{opacity:0},{opacity:1,duration:1},window.innerHeight).to(s[1],{opacity:0,duration:1,onComplete:function(){a[1].classList.remove("active"),a[2].classList.add("active")}},2*window.innerHeight),y.fromTo(s[2],{opacity:0},{opacity:1,duration:1},2*window.innerHeight).to(s[2],{opacity:0,duration:1,onComplete:function(){a[2].classList.remove("active"),a[3].classList.add("active")}},3*window.innerHeight),y.fromTo(s[3],{opacity:0},{opacity:1,duration:1},3*window.innerHeight)),document.querySelector(".pin-wrapBis")&&(u=(l=document.querySelector(".pin-wrapBis").offsetWidth)-window.innerWidth,console.log("here",l,window.innerWidth,u),gsap.to(".pin-wrapBis",{scrollTrigger:{scroller:n,scrub:.5,trigger:"#sectionPin2",pin:!0,start:"top top",end:function(){return"+=".concat(l)}},x:-u,ease:"none"})),t.on("call",function(e){"test"===e?window.innerWidth<576&&document.querySelector(".imgPileElement:last-of-type").classList.contains("is-inview")&&document.getElementById("imgPile-text-first").classList.remove("hide"):"video-border-block"===e?document.querySelector(".video-border-background .border-animation").classList.add("animate"):"video-border-block-back"===e&&document.querySelector(".video-border-background .border-animation").classList.remove("animate")}),ScrollTrigger.refresh());var n,t,o,e,r,i,c,s,a,l,u,p,d,m,y,g,f=document.querySelector("nav"),b=document.querySelector(".navigation-small"),v=document.querySelector(".navigation-expanded");document.querySelector("nav")&&(p=function(){m=setTimeout(function(){d||(f.classList.remove("open"),v.classList.remove("open"))},10)},v.addEventListener("mouseenter",function(){d=!0,clearTimeout(m)}),v.addEventListener("mouseleave",function(){d=!1,p()}),b.addEventListener("mouseenter",function(){f.classList.add("open"),setTimeout(function(){v.classList.add("open")},10)}),b.addEventListener("mouseleave",function(){p()})),document.querySelector("#allHouses")&&(y=document.querySelectorAll("#allHouses area"),g=document.querySelector(".house-zone"),y.forEach(function(e){e.addEventListener("mouseover",function(){var e=this.alt.split(" ")[1];g.src="assets/img/content/house"+e+".png",g.style.opacity=1}),e.addEventListener("mouseout",function(){g.src=""}),e.addEventListener("click",function(e){e.preventDefault();e=this.alt.split(" ")[1];document.getElementById("popin-house-"+e).style.display="block"}),document.querySelectorAll(".popin-house .popin-close").forEach(function(e){e.addEventListener("click",function(){document.querySelector(".popin-house").style.display="none"})})}))});
//# sourceMappingURL=main.js.map
